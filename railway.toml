# =======================================
# ðŸš€ FluencyJet Frontend-Only Deployment (Final)
# Project: laudable-spirit
# Framework: Vite + React
# =======================================

[build]
builder = "NIXPACKS"

[phases.setup]
nixPkgs = ["nodejs_22", "npm_9_x", "openssl"]

[phases.install]
cmds = [
  "npm ci"
]

[phases.build]
cmds = [
  "npm run build"
]

[start]
# âœ… Bind to all interfaces, not localhost
cmd = "npx serve -s dist --listen 0.0.0.0:8080"

# âœ… Tell Railway which port to expose
[[ports]]
internal_port = 8080
external_port = 8080
protocol = "http"

[variables]
NODE_ENV = "production"
PORT = "8080"
VITE_API_BASE_URL = "https://fluencyjet-sentence-master-production.up.railway.app"
